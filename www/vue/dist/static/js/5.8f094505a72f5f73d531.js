webpackJsonp([5],{"2gcv":function(t,n){},IWfa:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("mvHQ"),i=e.n(o),s={data:function(){return{title:"等待中...",lotteryingPerson:[],setIntervalLottery:null,config:{state:0}}},methods:{startAnimation:function(){var t=this;this.setIntervalLottery=setInterval(function(){var n=JSON.parse(i()(t.config.totalPersonInit));t.lotteryingPerson=[];for(var e=0;e<t.config.number;e++){var o=Math.floor(Math.random()*(n.length-e));t.lotteryingPerson.push(n.splice(o,1)[0])}},200)},stopAnimation:function(){clearInterval(this.setIntervalLottery)}},mounted:function(){this.$socket.emit("connect")},sockets:{connect:function(t){var n=this;console.log("connect"),this.$socket.emit("lotteryInit",{url:"lottery"},function(t){n.config=t,2===t.state&&n.startAnimation(),3===t.state&&(n.lotteryingPerson=t.result)})},lotterySubmit:function(t){this.config=t},lotteryStart:function(t){this.config=t,this.startAnimation()},lotteryStop:function(t){this.config=t,this.stopAnimation(),this.lotteryingPerson=JSON.parse(i()(t.result))},lotteryRemove:function(t){this.config=t},lotterySync:function(){this.$router.go(0)},reloadLottery:function(t){this.config=t}}},r={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"lottery"},[e("div",{staticClass:"title"},[0===t.config.state?e("span",[t._v("等待确定奖项")]):t._e(),t._v(" "),1===t.config.state?e("span",[t._v(t._s("奖项:"+t.config.title+"; 人数:"+t.config.number+"; 准备抽奖中"))]):t._e(),t._v(" "),2===t.config.state?e("span",[t._v(t._s("奖项:"+t.config.title+"; 人数:"+t.config.number+"; 抽奖中"))]):t._e(),t._v(" "),3===t.config.state?e("span",[t._v(t._s("奖项:"+t.config.title+"; 人数:"+t.config.number+"; 抽奖结果如下"))]):t._e()]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:2===t.config.state||3===t.config.state,expression:"config.state === 2 || config.state === 3"}],staticClass:"name"},t._l(t.lotteryingPerson,function(n,o){return e("div",{key:o,staticClass:"name_item"},[t._v(t._s(n))])}),0)])},staticRenderFns:[]};var a=e("VU/8")(s,r,!1,function(t){e("2gcv")},"data-v-56902052",null);n.default=a.exports}});
//# sourceMappingURL=5.8f094505a72f5f73d531.js.map